% % PREAMBLE

% Wrap code blocks
\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{
  breaklines,
  commandchars=\\\{\},
  breaknonspaceingroup,
  breakanywhere
}

% Setup chapter title page
\usepackage{fancyhdr}
\newcommand{\setDOI}[1]{\gdef\doi{#1}}
\fancypagestyle{chapterfirstpage}{
  \fancyhf{} % clear all header and footer fields
  \fancyfoot[L]{\footnotesize\doi} % the DOI in the left of the footer (footnotesize)
  \fancyfoot[R]{\thepage} % the page number in the right of the footer
  \renewcommand{\headrulewidth}{0pt} % remove the header rule
}

\usepackage[defaultlines=4,all]{nowidow}

% https://github.com/hadley/r-pkgs/blob/main/latex/preamble.tex
% \widowpenalty=10000 % avoid leaving lines behind
% \clubpenalty=10000  % avoid creating orphans

% create index
\usepackage{imakeidx}[intoc,columns=2]
\indexsetup{noclearpage}
\makeindex

\frontmatter
