% % PREAMBLE

% Wrap code blocks
\usepackage{fvextra}
\DefineVerbatimEnvironment{Highlighting}{Verbatim}{
  breaklines,
  commandchars=\\\{\},
  breaknonspaceingroup,
  breakanywhere
}

% Setup chapter title page
\usepackage{fancyhdr}
\newcommand{\setDOI}[1]{\gdef\doi{#1}}
\fancypagestyle{chapterfirstpage}{
  \fancyhf{} % clear all header and footer fields
  \fancyfoot[L]{\footnotesize\doi} % the DOI in the left of the footer (footnotesize)
  \fancyfoot[R]{\thepage} % the page number in the right of the footer
  \renewcommand{\headrulewidth}{0pt} % remove the header rule
}

% Avoid widows and orphans (4 lines before and after page break)
\usepackage[defaultlines=4,all]{nowidow}

% Adjust hypenation
\hyphenation{under-stand under-graduate researchers patterns under-stood original dist-ributions dist-ribution}

% create index
\usepackage{imakeidx}[intoc,columns=2]
\indexsetup{noclearpage}
\makeindex[options=-s header.ist]

% command to index code
\usepackage{xstring}
\newcommand{\cindex}[1]{%
  \StrSubstitute{#1}{_}{\_}[\temp]%
  \index{\temp}%
}

\frontmatter
